
FROM alpine:3.21
RUN apk update && apk add --no-cache \
  supervisor \
  openssh \
  musl \
  tftp-hpa \
  kea \
  dnsmasq


# create hosts
# create .rhosts
# create hosts.quiv
COPY src/supervisord.conf /etc/supervisord.conf
# COPY src/tftp-hpa /etc/default/tftp-hpa
COPY src/dhcpd.conf /etc/dhpd/dhpd.conf
RUN mkdir /tftpboot
USER root
CMD ["/usr/bin/supervisord", "-c", "/etc/supervisord.conf"]